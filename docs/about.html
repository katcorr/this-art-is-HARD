<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>this art is HARD. -</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">this art is HARD.</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target=""><i class="bi bi-house-heart" role="img">
</i> 
 <span class="menu-text"><strong>this art is . . .</strong></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./what-is-data-art.html" rel="" target="">
 <span class="menu-text">What is Data Art?</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./about.html" rel="" target="" aria-current="page">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact-us.html" rel="" target="">
 <span class="menu-text">Contact Us</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">About the Project</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">About Us</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Acknowledgements &amp; Inspiration</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="background" class="level3">
<h3 class="anchored" data-anchor-id="background"><strong>Background</strong></h3>
<p>Racism in medicine is pervasive and harmful. In <a href="https://www.nejm.org/doi/full/10.1056/NEJMms2025396">this 2021 New England Journal of Medicine article</a>, the authors note that “Despite the long and ongoing history of racism, empirical research showing its impact on health is rarely published in major medical journals. Although we find the evidence of the health effects of structural racism to be convincing, and supported by more than a century of wide-ranging theoretical and empirical scholarship, it remains marginalized and eclipsed by other research priorities.”</p>
<p>In summer 2021 we began a review on the racial and ethnic disparities reported in the top obstetrics and gynecology journals. We set out to identify and review the research around disparities published in major obstetrics and gynecology journals, seeking to understand differences in accessing care, differences in the care received, and differences in health outcomes. But we didn’t plan to stop there, with our noses buried in academic journals. We wanted to take those numbers, statistics, data, and create art: art to amplify the research, to bring the research to the community and people who are impacted (i.e., everyone), and [eventually] to welcome <em>everyone</em> in to the conversation on how to address the issues.</p>
<p>We used the <a href="https://www.racialequityinstitute.com/groundwaterapproach">Groundwater Approach</a> (a metaphor developed by the Racial Equity Institute) as a lens to view our work. Racism in obstetrics and gynecology is not an isolated issue, but part of the structural racism that permeates all sectors of our society.</p>
<p>In summer 2021, after collecting data from 36 articles that focused on maternal morbidity and mortality, we used this dataset to create data art. By doing this, we put the embodiment of emotions back into the data so that they become more than nameless, faceless numbers, a large part of the more general movement towards data feminism and feminist science studies overall.</p>
<p>Moving forward, we plan to review the remaining 200+ articles identified to complete a narrative review and create more data art. Our research contributes to the naming and dismantling of racism that exists in obstetrics and gynecology today, and it seeks to make this information accessible to inspire change and further research.</p>
</section>
<section id="review-process" class="level3">
<h3 class="anchored" data-anchor-id="review-process"><strong>Review Process</strong></h3>
<p>Following the <a href="https://www.crd.york.ac.uk/prospero/">PROSPERO</a> and <a href="http://www.prisma-statement.org/Protocols/WhyProtocols">PRISMA</a> guidelines for systematic reviews, we developed a review protocol that defined our review question, search criteria, data extraction process, and strategy for data synthesis. We searched the the top eight journals in obstetrics and gynecology as ranked by the Scimago Journal Ranking system: Human Reproduction Update, American Journal of Obstetrics and Gynecology, Ultrasound in Obstetrics &amp; Gynecology, Obstetrics &amp; Gynecology, Human Reproduction, Fertility &amp; Sterility, BJOG: an International Journal of Obstetrics &amp; Gynecology, and Gynecologic Oncology. We searched these journals in the PubMed database for articles published between January 1, 2010 and June 10, 2021 using the terms “racial disparit*” , “racial bias” , “racism” , “discrimination” , “minorit*” , among other terms related to the subject area.</p>
<p>We included prospective observational cohort studies, retrospective observational cohort studies, case-control studies, cross-sectional studies, randomized controlled trials, and registry studies. Qualitative studies, reviews with no new data, case reports, and studies outside the United States were excluded.</p>
<p>Over 750 articles were identified from our initial search. Each article was randomly assigned to two independent reviewers, and each reviewer assessed the article’s relevance and eligiblity for our review based on the abstract. Discrepancies regarding eligibility were solved through discussion between the reviewers. After screening, 251 articles were identified as eligible for inclusion and systematically reviewed. Each eligible article was again randomly assigned to two independent reviewers, with discrepancies being resolved through discussion.</p>
<p>A data extraction spreadsheet was created for each reviewer to systematically and independently enter data from the eligible articles using Google forms. The spreadsheet recorded quality assessment of the articles, using modified questions from the modified versions of the NIH Quality Assessment tool checklist and the Joanna Briggs Institute critical appraisal tool checklist. Other information recorded in the spreadsheet included: doi, research aim, study location, study type, study end and start date, data source, themes addressed ( access-to-care, care provided, and/or health outcomes), sample sizes for each race or ethnicity category, statistical model information (stratification or subanalysis, outcome measure, reference group, covariates), and model effect estimates for each comparison.</p>
</section>
<section id="the-data" class="level3">
<h3 class="anchored" data-anchor-id="the-data"><strong>The Data</strong></h3>
<p>In an effort to make research more transparent and accessible, we are providing the data we collected about the journal articles:</p>
<ul>
<li><p>in <a href="https://docs.google.com/spreadsheets/d/1CY3Ct-vVRJRBWjK5wNtYhhfmS8h4bkDDWYVqs-Lv6Jk/edit?usp=sharing">this Google sheet</a> for those who want to work with the raw data directly</p></li>
<li><p>in <a href="http://obgyn-shiny.shinyapps.io/obgyn-disp">this interactive website</a> which provides a more user-friendly interface to explore the raw data</p></li>
</ul>
<p>If you have trouble accessing either link, would like help getting the data in a different format, or have other questions, please contact us using the contact form!</p>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Are we a lab or are we a studio? Are we scientists or artists? Why do we have to choose just one box? Let’s break down this false binary: we’re both! We work with data. We create art. Meet our contributors, statisticians, data scientists, dancers, illustrators . . .</p>
<table class="table">
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<tbody>
<tr class="odd">
<td><img src="images/alex-profile.jpg" class="img-fluid" width="600"></td>
<td>Alexander Brandfonbrener is a English and Statistics Major at Amherst College, entering his junior year. He spends his free time on campus working as an editor for The Student and writing a graphic novel. He was drawn to this project because it exemplifies an intersection between statistics and visual art, and because racism in medicine is such an impactful issue.</td>
</tr>
<tr class="even">
<td><img src="images/gillian-profile.jpg" class="img-fluid" width="600"></td>
<td>Gillian Richard is a sophomore Economics major at Amherst College. On campus, she is involved in the Intersections dance group and the Sailing Team as well as being a TA for the Theater and Dance Department. She also currently teaches for Charleston Academy of Musical Theatre and has performed in about 40 shows over the past 15 years including being the dance captain for multiple professional shows with Charleston Stage. She was drawn to this project due to the possibility of combining dance and data as well as her interest in gynecological research and reproductive justice.</td>
</tr>
<tr class="odd">
<td><img src="images/joy-profile.jpg" class="img-fluid"></td>
<td>Joy Won is an Education Studies Major at Amherst College interested in the intersections between art and statistics. At home she proudly acts as a cat butler and on campus can be seen val-sitting with a cup of tea or doing some last minute reading at level C of Frost. She was interested in joining the Correia lab to explore how data art can be a medium by which statisticians can portray data to fight against structural racism specifically in the context of medical disparities.</td>
</tr>
<tr class="even">
<td><img src="images/tracy-profile.jpg" class="img-fluid" width="300"></td>
<td>Tracy Huang is a Statistics and Psychology Major at Amherst College. On campus, she sings in the Women’s Chorus and enjoys spending free time reading and doing crafts such as cross-stitch. She was drawn to the project because of the opportunity to not only delve into the data of racial disparities in obstetrics/gynecology, but to use that data and translate it into artistic pieces that combine her love of statistics and art.</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>There is a lot of varied and compelling data art we found online. We learned about data art, and sometimes drew inspiration in our own works, from many of these data artists (most of whom self-identify with some other title, “graphic designer”, “information designer”, “data journalist”, “illustrator” . . .):</p>
<ul>
<li><p>Giorgia Lupi and Stefanie Posavec’s <a href="http://www.dear-data.com/theproject">Dear Data Project</a></p></li>
<li><p>Sonja Kuijper’s <a href="https://www.studioterp.nl/a-view-on-despair-a-datavisualization-project-by-studio-terp/">“A view on despair”</a></p></li>
<li><p><a href="https://monachalabi.com/">Mona Chalabi</a></p></li>
<li><p><a href="http://nathaliemiebach.com/portfolio.html">Nathalie Miebach</a> and <a href="http://nathaliemiebach.com/weatherscores.html">The Weather Scores Project</a></p></li>
<li><p><a href="https://www.environmentalgraphiti.org/series-folder">Environmental Graphiti</a></p></li>
<li><p><a href="https://leslierobertsart.com/section/425019-Recent-works-on-panel.html">Leslie Roberts</a></p></li>
<li><p><a href="https://www.stoxart.com/">Gladys Estolas</a></p></li>
<li><p><a href="http://www.chrisjordan.com/gallery/rtn2/#gyre">Chris Jordan</a></p></li>
<li><p><a href="https://flowingdata.com/2020/05/13/climate-change-displayed-with-shower-tiles/">Climate change displayed with shower tiles</a></p></li>
<li><p><a href="https://flowingdata.com/2019/07/25/blanket-pattern-visualizes-babys-sleep-data/">Baby’s sleep data visualized with blanket</a></p></li>
<li><p><a href="https://www.informationisbeautifulawards.com/">Information is Beautiful awards</a></p></li>
<li><p><a href="https://www.ted.com/playlists/201/art_from_data">Ted Talks on art made from data</a></p></li>
<li><p><em>Information is Beautiful</em> by David McCandless (book)</p></li>
<li><p><em>Knowledge is Beautiful</em> by David McCandless (book)</p></li>
</ul>
<p>Catherine D’Ignazio and Lauren Klein’s <a href="https://data-feminism.mitpress.mit.edu/pub/5evfe9yd/release/5"><em>Data Feminism</em> chapter on elevating emotion and embodiment</a> also provides some powerful examples of data art, including a data performance. We highly recommend reading the whole book. In our work, we try to put into practice the data feminism principles that they’ve articulated so well.</p>
<ul>
<li><p><em>Data Feminism</em> by Catherine D’Ignazio and Lauren Klein</p></li>
<li><p><em>Living in Data</em> by Jer Thorp</p></li>
</ul>
</div>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>